* todo
目次を作りつつ、内容を理解しつつ(数式あるからカード?)
明らかに出まくるポイントからまず全部つぶそう
…てか「全部」すね…
「この計算はやっといてね」が何回かあったな…

過去問、結構厳しい問題出てるなぁ
どこかで過去問全部洗って、やり直そう

出る分野に関しては、その詳細が万遍なく出得るなぁ

- [-] .orgな講義ノートが2部ある
  - [X] 10/09 #2
  - [ ] 10/23 #4

* 
** 情報検索
*** 情報検索(システム)の評価尺度
- [X] 適合率,再現率
- [X] 適合率再現率曲線
  - [X] 作り方
- [X] F値
- [X] P@k
- [X] MAP
- [X] nDCG

*** 情報検索(システム)の方法(アルゴリズム)
- [X] ベクトル空間モデル
- [X] 類似度の計算 内積,コサイン相関度
  - [X] #2「コサイン相関値求めよ」
- [X] tf/idf法
  - [X] #2「tf/idf法で各文書の特徴ベクトルを求めよ」
- [X] 適合フィードバック
- [X] クラスタリング
  - [X] 健全な方法
  - [X] 反復法

*** 情報推薦
- [X] 協調フィルタリング(GroupLens)
  - [X] 類似度の計算
  - [X] 評価予測

** ファイル編成法/索引
*** 一般のデータ
- [-] B木
  - [X] とりあえずまとめ
    - [X] 追加・削除の方法
  - [ ] 計算量
  - [ ] 2011-1-8「B木が平衡木であることを保つために用いているものは何か」
  - [X] 2011-1-8「B木へのレコードの追加に対して、最悪の場合、B木の高さはどれだけ大きくなるか」
  - [ ] 2010-1-7「(理由つき○×問題) B木は平衡木であることを保つためにオーバーフローチェーンを用いる」
  - [ ] 2010-2-3「B木が、接点分割によってその高さが変化する例を図示して説明せよ」
  - [ ] 2009-1-2「簡単なB木の実例を示して、データを追加しても、接点内の空き領域や接点分割を利用することでB木が平衡木を常に保てる仕組みを説明せよ」
- [-] グリッドファイル
  - [X] とりあえずまとめ
  - [ ] 2010-1-8「(理由つき○×問題) グリッドファイルはアドレス空間を重なりのない領域に分割した二分木である」
- [ ] k-D木
- [ ] シグニチャファイル
  - [ ] 2010-1-9「(理由つき○×問題) シグニチャファイルを用いると明らかに答えに鳴る文書を検索処理の早い段階で排除することができる」
  - [ ] 2009-1-3「単語をキーとする転置索引に比べて、シグニチャファイルを用いた索引の利点・欠点について述べよ」

*** 空間アクセス法 (特に二次元データ? 多次元データ? 幾何学的な対象を扱うときのファイル編成法?)
- [X] Z-ordering
  - [X] 大事 :: 「k=4の空間充填曲線、書けるようにしておいてください」
  - [X] Z-orderingによる質問処理
  - [X] 2012-1-5「3ビットの空間充填曲線において、X座標、Y座標がそれぞれ000、111であるときのZ値(10進数)は何になるか
  - [X] 2012-1-5「↑この空間充填曲線を図示せよ」
  - [X] 2007-1-2「4ビット構成の空間充填曲線(Z-ordering)と、これに基づく点質問の処理方法について、例を用いて説明せよ」
- [ ] R木, R+木
  - [ ] 大事 :: 追加方法 (面積総和最小の分割)「面積総和最小の分割、考え方だけ覚えておいてください」
  - [ ] B木とR木の比較
    - [ ] 2011-1-9「R木がB木と異なる点は何か」
    - [ ] 2007-2-4「B木とR木の接点分割の方法の違いについて説明せよ」
  - [ ] R木とR+木の比較
    - [ ] 2010-1-10「(理由つき○×問題) R+木は、R木に比べて、サイズは小さくてすむ」
    - [ ] 2009-1-4「空間アクセス法としてのR+木のアイデアおよび利点欠点を、R木と対比させながら図示して説明せよ」

*** GEMINI (時系列データ,画像 を扱うときの索引付けの手法? (一般に多次元のデータを扱うときの手法?))
- 大事 :: このレジュメのポイントはGEMINIの考え方
- [ ] 「空間アクセス法を使う」の意味が分からない。索引を作るとは別?
- [X] 2012-1-4「(穴埋め) false dismissal は [    ] のこと、false alarm は [    ] のこと」
- [X] 2012-2-5「「GEMINI(Generic Multimedia Object Indexing)」を、次の6語を用いて説明せよ。特徴空間、オブジェクト、距離関数、空間アクセス法、quick-and-dirty test」
- [X] 2011-1-10「(穴埋め) quick-and-dirty test とは [    ] である」
- [X] 2011-2-2「quick-and-dirty test, false dismissals, false alarms の概念について例を用いて分かりやすく説明せよ」
- [X] 2010-2-2「false dismissals, false alarms の意味について説明せよ」
- [X] 2010-2-4「GEMINIアルゴリズムの概要、および、答えの漏れが無いことを保証する条件について述べよ」
- [X] 2009-2-3「シグニチャファイルやGEMINIアルゴリズムで用いられるfalse dismissalsおよびfalse alarmsの意味について説明せよ」

* 情報検索の評価尺度,類似度計算のアルゴリズム,情報推薦
- #1 情報検索 - 適合率,再現率,ベクトル空間モデル,類似検索
- #2 情報検索 - tf/idf法,適合フィードバック,クラスタリング
- #3 情報検索(システム)の評価尺度 (F値,MAP,nDCG), 検索の意図
- #4 情報検索 - 情報フィルタリング,協調フィルタリング,推薦システム(レコメンデーション)

** 情報検索の評価尺度
- 再現率と適合率
  - 適合率,精度(precision) :: |A and R|/|A|
  - 再現率(recall) :: |A and R|/|R|
    - A :: 解集合
    - R :: 適合文書集合,正解集合

- 実際の再現率は計算が難しい
  - テストコレクション :: 文書集合,多数の質問,各質問に対する適合文書の集合 を組にしたデータベース
  - pooling method :: 多数の検索エンジンで〃質問を出し、上位N(100等)個の検索結果をすべて集め、人力で適合文書か判定

- F値 :: 適合率と再現率の重み付き調和平均

*** ランキングを意識
- 適合率再現率曲線 :: 上位k件を検索解としてplotしていく
  - 横軸:再現率

- Webサーチでは実際に使えるのは適合率
  - P@k :: |A(上位k件) and R|/|A(上位k件)|

- MAP(Mean Average Precision) :: 平均適合率の平均
  # よく使われる
  - 平均適合率 :: 再現率を動かした場合の(正解文書が出てくる個数を増やしたときの)適合率の平均
  - MAP :: 平均適合率をクエリで平均

- nDCG(Normalized Discounted Cumulative Gain) :: 
  - ゲイン値 :: 適合度を点数化した値. 人間が付ける
  - G(ゲインベクトル) :: ランク順の文書のゲイン値
  - CG(累積ゲインベクトル) :: ランク順にゲイン値を累積
  - DCG(ディスカウント累積ゲインベクトル) :: 順位が下位の文書にペナルティを与える
    - 下位を見るのはコストがかかる
  - DCG'(理想的なディスカウント累積ゲインベクトル) :: 理想的な順位が得られた場合のディスカウント累積ゲインベクトル
  - nDCG(正規化ディスカウント累積ゲインベクトル) :: DCGの各要素をDCG'の各要素で正規化

** 情報検索の方法 (質問Qと最も類似度の高いDiを返す)
- 出現「頻度」 :: 出現回数の意
- ベクトルの「要素」 :: ベクトルの成分の意

- ベクトル空間モデル :: 各文書をV(次元ベクトル空間の元として表現
  - vectorの各要素(成分)は、全文書集合から抽出した語各々に対応
  - 特徴ベクトル ::

- 文書を表す特徴ベクトルの決定
  - 出現:1, 非出現:0
  - 語の出現頻度(文書の長さで正規化)
  - tf/idf法 :: 文書中の単語の出現頻度(tf) x 1/該当語がどの程度の文書に出現するか
    - tf :: term frequency 語出現頻度
    - df :: document frequency 文書頻度

- 文書の特徴ベクトルD_iと質問の特徴ベクトルQの類似度
  - sim(D,Q)
  - 内積 - 内積を類似度とする
  - コサイン相関値 - ベクトル空間上でなす角の余弦を類似度とする

- 適合フィードバック :: 
  - 質問Q
  - → 解
  - → ユーザーが「合ってる」とか「合ってない」とか返す
  - → Qを修正(○分の平均特徴ベクトルを引いて、×分の平均特徴ベクトルを足す)

- クラスタリング ::
  - 文書-クラスタ間距離
  - まず質問は考えず、似たようなものをひとつのグループにまとめる
  - クラスタ生成の方法
    - 健全な方法 :: 類似度が閾値以上の文書をつなぎ、連結成分or極大クリークをクラスタとする。O(N^2)
    - 反復法(k-means?) :: サンプルから適当にクラスタを生成→文書を最も近いクラスタに追加→中央値修正を繰り返す。高速。
  
- パッセージ検索 :: 文書に特徴量を付ける → 段落に特徴量を付ける

** 情報の選択・推薦
- 情報のフィルタリング e.g. スパムフィルタ
  - 内容フィルタリング :: 情報の内容比較に基づくフィルタリング
  - 協調フィルタリング :: 実社会の関連(人,コミュニティ)に基づくフィルタリング
- 推薦システム
  - 内容に基づく推薦 :: 過去気に入ったアイテムに類似したアイテムを推薦
  - 協調型推薦 :: 好みが似ている他のユーザーが気に入ったアイテムを推薦

* 索引の活用(データベース?)
- 取り扱うデータ
  - レコード
  - 属性

- 検索
  - 主キーによる検索
    - B木
    - ハッシュ
  - 副次索引 :: 副次キーによる検索 (=転置ファイル?)
    - B木
    - ハッシュ

** 索引のアルゴリズム = ファイル編成法?
- B木

- グリッドファイル :: 
  - k個の属性を持つレコードをk次元空間の点として表現
  - k次元空間をグリッドに分割 各グリッドに点を均等配分

- k-D木
  - これもk次元ベクトル空間
  - 二分木

- シグニチャファイル
  - quick and dirty フィルタ :: 答えにならない文書群のほとんどを素早く排除する
    - 答えになる文書はすべて含む
    - 答えに鳴らない文書(false drops)も若干含む -> 全文テキストスキャニングなどで除く
  - 実装例
    - 各文書の単語の先頭二文字を記憶
    - word -> signature(bit列) を割当、文書=wordの論理和

** 空間アクセス法 (特に空間データに対するファイル編成法?)
- 空間充填曲線 (Z-ordering)
  - イメージを 2^k x 2^k ピクセルに分割 (k:bit)
  - 全順序を付ける
  - Z値 :: shuffle関数にて付与
    - X=01, Y=00の点 Z値=0010=2

** #5 副次索引,転置ファイル,B木,グリッドファイル,k-D木,シグニチャファイル,quick-and-dirty フィルタ
** #6 空間アクセス法 - Z値,Z-ordering,R木,R+木
** #15 マルチメディア情報検索 - GEMINI,false dismissals,false alarm,quick-and-dirty test

* 過去問

|      | 情報検索の評価尺度            | 類似度計算のアルゴリズム             | アプリケーション               | 副次検索                           | マルチメディア情報検索            |
|------+-------------------------------+--------------------------------------+--------------------------------+------------------------------------+-----------------------------------|
| 2012 | 1-1 F値(求める)               | 2-1 tf/idf法(説明)                   | 2-3 協調フィルタリング(求める) | 1-5 Z値(求める),Z-ordering(求める) | 1-4 false dismissals/alarm(説明)  |
|      | 1-2 適合率,再現率(求める)     | 2-4 適合フィードバック(説明)         |                                | 2-1 R木,R+木(説明)                 | 2-5 GEMINI(説明)                  |
|      | 1-3 MAP(求める)               |                                      |                                |                                    |                                   |
|------+-------------------------------+--------------------------------------+--------------------------------+------------------------------------+-----------------------------------|
| 2011 | 1-1 適合率,再現率(求める)     | 1-6 適合フィードバック(説明)         | 1-5 協調フィルタリング(穴埋め) | 1-8 B木(説明)                      | 1-10 quick-and-dirty test(説明)   |
|      | 1-2 算術平均,調和平均(求める) | 2-1 tf/idf法(説明)                   |                                | 1-9 R木(説明)                      | 2-2 quick-and-dirty test(説明)    |
|      | 1-3 適合率,再現率(求める)     | 2-3 適合フィードバック(説明)         |                                |                                    | 2-2 false dismissals/alarm(説明) |
|      | 1-4 適合率,再現率(説明)       |                                      |                                |                                    |                                   |
|------+-------------------------------+--------------------------------------+--------------------------------+------------------------------------+-----------------------------------|
| 2010 | 1-2 ベクトル空間モデル(説明)  | 1-1 tf/idf法(説明)                   | 1-3 協調フィルタリング(説明)   | 1-7 B木(説明)                      | 2-2 false dismissals/alarm(説明) |
|      | 1-4 適合率,再現率(説明)       | 1-6 適合フィードバック(説明)         |                                | 1-8 グリッドファイル(説明)         | 2-4 GEMINI(説明)                  |
|      | 1-5 適合率,再現率(説明)       | 2-1 tf/idf法(説明)                   |                                | 1-9 シグニチャファイル(説明)       |                                   |
|      |                               |                                      |                                | 1-10 R木,R+木(説明)                |                                   |
|      |                               |                                      |                                | 1-3 B木(説明)                      |                                   |
|------+-------------------------------+--------------------------------------+--------------------------------+------------------------------------+-----------------------------------|
| 2009 | 1-2 ベクトル空間モデル(説明)  | 1-1 類似度(求める)                   | 1-4 協調フィルタリング(説明)   | 1-3 シグニチャファイル(説明)       | 2-3 false dismissals/alarm(説明) |
|      | 2-1 適合率再現率曲線(説明)    | 1-2 tf法,tf/idf法(説明)              | 1-5 協調フィルタリング(求める) | 2-4 R木(説明)                      |                                   |
|------+-------------------------------+--------------------------------------+--------------------------------+------------------------------------+-----------------------------------|
| 2007 | 2-2 【?】2つの評価尺度とは    | 2-3 tf/idf法(説明)                   |                                | 1-1 Z-ordering,点質問の処理(説明)  |                                   |
|      |                               | 2-5 ベクトル空間モデルにおける類似度 |                                | 1-2 B木(説明)                      |                                   |
|      |                               | 2-6 適合フィードバック(考察)         |                                | 2-4 B木,R木(説明)                  |                                   |
|      |                               | 2-6 適合フィードバック(考察)         |                                |                                    |                                   |


* 旧メモ
■情報検索 1
□情報検索の評価尺度
  『適合率』『再現率』
  
  →全数は難しいので
  『テストコレクション』
  『Pooling method』

□『ベクトル空間モデル』
  #情報検索の仕組みそのものの話?
  #類似性を扱うためのもの?
  #→tf/idfとかに入ると全体での位置が分かる？
